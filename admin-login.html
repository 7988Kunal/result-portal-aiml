<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Login â€” Result Portal</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Poppins', sans-serif; margin:0; background:#f5f8ff; display:flex; justify-content:center; align-items:center; height:100vh; }
.card { background:#fff; padding:30px; border-radius:14px; box-shadow:0 10px 25px rgba(0,0,0,0.1); max-width:400px; width:100%; }
h2 { text-align:center; color:#0b3b84; margin-bottom:20px; }
.input-group { display:flex; flex-direction:column; margin-bottom:15px; }
label { font-weight:600; margin-bottom:5px; color:#1e2b4a; }
input { padding:12px; border-radius:10px; border:1px solid #d6e2ff; font-size:14px; }
input:focus { outline:none; border-color:#0a57ff; background:#e6f0ff; }
.btn { width:100%; padding:12px; background:#0a57ff; color:#fff; border:none; border-radius:10px; font-weight:600; cursor:pointer; }
.btn:hover { background:#0846cc; }
.error { color:red; font-size:13px; margin-bottom:10px; text-align:center; }
</style>
</head>
<body>

<div class="card">
  <h2>Admin Login</h2>
  <div class="error" id="errMsg"></div>
  <div class="input-group">
    <label for="email">Email</label>
    <input type="email" id="email" placeholder="admin@example.com">
  </div>
  <div class="input-group">
    <label for="password">Password</label>
    <input type="password" id="password" placeholder="********">
  </div>
  <button class="btn" id="loginBtn">Login</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyAz-yo7PmFo0eFyzfjQwCP3yiB5GqqpTp0",
  authDomain: "studentdashboard-681a8.firebaseapp.com",
  projectId: "studentdashboard-681a8",
  storageBucket: "studentdashboard-681a8.firebasestorage.app",
  messagingSenderId: "171483691299",
  appId: "1:171483691299:web:f2bc4e00b696c55b4cf496",
  measurementId: "G-RVFB0Z9TFS"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

const emailInput = document.getElementById('email');
const passwordInput = document.getElementById('password');
const loginBtn = document.getElementById('loginBtn');
const errMsg = document.getElementById('errMsg');

loginBtn.addEventListener('click', async () => {
  errMsg.textContent = '';
  const email = emailInput.value.trim();
  const password = passwordInput.value;

  if(!email || !password){ errMsg.textContent = 'Enter email and password'; return; }

  try {
    await signInWithEmailAndPassword(auth, email, password);
    sessionStorage.setItem('adminLoggedIn', 'true');
    window.location.href = 'admin-panel.html';
  } catch(err){
    console.error(err);
    errMsg.textContent = 'Invalid credentials or user not found';
  }
});
</script>
</body>
</html>